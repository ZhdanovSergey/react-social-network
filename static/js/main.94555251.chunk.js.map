{"version":3,"sources":["redux/dialogs-reducer.js","assets/images/user-default-photo.png","components/common/Preloader/Preloader.module.css","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.module.css","api/api.js","App.module.css","reportWebVitals.js","redux/auth-reducer.js","redux/app-reducer.js","redux/navbar-reducer.js","redux/profile-reducer.js","redux/redux-store.js","components/Header/Header.jsx","components/Navbar/Navbar.jsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/PostsForm/PostsForm.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/Profile.jsx","components/Login/Login.jsx","App.js","index.js","utils/validators.js","assets/images/Fidget-spinner.gif","components/common/Preloader/Preloader.jsx","components/common/FormControls/FormControls.module.css","components/common/FormControls/FormControls.js","components/Profile/Profile.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Header/Header.module.css","components/Navbar/Navbar.module.css","components/Profile/MyPosts/MyPosts.module.css","utils/object-helpers.js","redux/users-reducer.js"],"names":["ADD_MESSAGE","initialState","dialogsList","id","name","messagesList","message","addMessage","type","dialogsReducer","state","action","module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","requestUsers","currentPage","pageSize","get","follow","post","unfollow","delete","getUserProfileData","console","warn","profileAPI","getProfile","authAPI","getAuthData","login","email","password","rememberMe","logout","getStatus","updateStatus","status","put","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","SET_AUTH_USER_DATA","isAuth","setAuthUserData","payload","getAuthUserData","dispatch","a","response","data","resultCode","authReducer","INITIALIZING_SUCCESS","initialized","appReducer","navList","url","text","navbarReducer","ADD_POST","SET_USER_PROFILE","SET_STATUS","posts","likesCount","newPostText","setStatus","profileReducer","profile","reducers","combineReducers","app","navbar","profilePage","messagesPage","usersPage","usersReducer","auth","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Header","className","styles","block","this","props","src","width","alt","loginBlock","onClick","to","React","Component","mdtp","connect","el","map","item","activeClassName","active","ProfileStatus","editMode","componentDidUpdate","prevProps","prevState","setState","activateEditMode","deactivateEditMode","onStatusChange","e","currentTarget","value","autoFocus","onBlur","onChange","onDoubleClick","ProfileInfo","s","content","fullName","photos","large","userDefaultPhoto","Preloader","maxLength10","maxLengthCreator","PostsForm","reduxForm","onSubmit","handleSubmit","Field","component","Textarea","validate","required","placeholder","Post","likes","addPost","formData","Profile","userId","match","params","authorizedUserId","getUserProfile","history","push","info","myPosts","withRouter","LoginForm","Input","error","formSummaryError","errorMessage","messages","length","stopSubmit","_error","Dialogs","lazy","Users","App","componentDidMount","initialize","render","container","header","path","main","Suspense","fallback","Promise","all","AppContainer","AppWithRouter","basename","process","ReactDOM","StrictMode","document","getElementById","maxLength","preloader","FormControl","isError","meta","touched","formControl","children","input","restProps","child","updateObjectsInArray","items","objPropName","objPropValue","newObjectProps","FOLLOW_SUCCESS","UNFOLLOW_SUCCESS","SET_USERS","SET_TOTAL_USERS_COUNT","SET_IS_FETCHING","SET_FOLLOWING_IN_PROGRESS_ARR","users","paginatorPortionSize","totalUsersCount","isFetching","followingInProgressArr","followSuccess","unfollowSuccess","setIsFetching","setFollowingInProgressArr","isFollowingInProgress","totalCount","changePage","pageNumber","followUnfollowFlow","apiMethod","actionCreator","bind","followed","filter"],"mappings":"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","file":"static/js/main.94555251.chunk.js","sourcesContent":["const ADD_MESSAGE = 'dialogs/ADD-MESSAGE'\r\n\r\nlet initialState = {\r\n\tdialogsList: [\r\n\t\t{id: 1, name: 'Dima'},\r\n\t\t{id: 2, name: 'Andrey'},\r\n\t\t{id: 3, name: 'Sveta'},\r\n\t\t{id: 4, name: 'Sasha'},\r\n\t\t{id: 5, name: 'Sergey'},\r\n\t],\r\n\tmessagesList: [\r\n\t\t{message: 'Hello'},\r\n\t\t{message: 'How are you?'},\r\n\t\t{message: 'I\\'m fine'},\r\n\t\t{message: 'I\\'m fine too'},\r\n\t\t{message: 'Good bye!'},\r\n\t],\r\n}\r\n\r\nconst dialogsReducer = (state=initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\t\t\r\n\t\tcase ADD_MESSAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessagesList: [...state.messagesList, {message: action.message}],\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const addMessage = (message) => ({type: ADD_MESSAGE, message})\r\n\r\nexport default dialogsReducer","export default \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Preloader_block__oR0Tw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"ProfileStatus_block__ERTYl\"};","import * as axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\theaders: {\r\n\t\t'api-key': '36662d2d-b224-434c-bf73-d1e05439521c',\r\n\t},\r\n})\r\n\r\nexport const usersAPI = {\r\n\trequestUsers(currentPage=1, pageSize=10) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t},\r\n\tfollow(id) {\r\n\t\treturn instance.post(`follow/${id}`)\r\n\t},\r\n\tunfollow(id) {\r\n\t\treturn instance.delete(`follow/${id}`)\r\n\t},\r\n\tgetUserProfileData(id) {\r\n\t\tconsole.warn('Obsolete method, please use profileAPI')\r\n\t\treturn profileAPI.getProfile(id)\r\n\t},\r\n}\r\n\r\nexport const authAPI = {\r\n\tgetAuthData() {\r\n\t\treturn instance.get('auth/me')\r\n\t},\r\n\tlogin(email, password, rememberMe) {\r\n\t\treturn instance.post('auth/login', {email, password, rememberMe})\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete('auth/login')\r\n\t},\r\n}\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(id) {\r\n\t\treturn instance.get('profile/' + id)\r\n\t},\r\n\tgetStatus(id) {\r\n\t\treturn instance.get('profile/status/' + id)\r\n\t},\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put('profile/status/', {status})\r\n\t},\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__Ir_U9\",\"header\":\"App_header__QSHfp\",\"navbar\":\"App_navbar__2D75E\",\"main\":\"App_main__2ijHk\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {authAPI} from './../api/api'\r\nimport {stopSubmit} from 'redux-form'\r\n\r\nconst SET_AUTH_USER_DATA = 'auth/SET_AUTH_USER_DATA'\r\n\r\nlet initialState = {\r\n\tid: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n}\r\n\r\nlet authReducer = (state=initialState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase SET_AUTH_USER_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload,\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport let setAuthUserData = (id, email, login, isAuth) => ({\r\n\ttype: SET_AUTH_USER_DATA,\r\n\tpayload: {id, email, login, isAuth},\r\n})\r\n\r\nexport let getAuthUserData = () => async (dispatch) => {\r\n\tlet response = await authAPI.getAuthData()\r\n\tif (!response.data.resultCode) {\r\n\t\tlet {id, email, login} = response.data.data\r\n\t\tdispatch(setAuthUserData(id, email, login, true))\r\n\t}\r\n}\r\n\r\nexport let login = (email, password, rememberMe) => async (dispatch) => {\r\n\tlet response = await authAPI.login(email, password, rememberMe)\r\n\tif (!response.data.resultCode) {\r\n\t\tdispatch(getAuthUserData())\r\n\t} else {\r\n\t\tlet errorMessage = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n\t\tdispatch(stopSubmit('login', {_error: errorMessage}))\r\n\t}\r\n}\r\n\r\nexport let logout = () => async (dispatch) => {\r\n\tlet response = await authAPI.logout()\r\n\tif (!response.data.resultCode) {\r\n\t\tdispatch(setAuthUserData(null, null, null, false))\r\n\t}\r\n}\r\n\r\nexport default authReducer","import {getAuthUserData} from './auth-reducer'\r\n\r\n\r\nconst INITIALIZING_SUCCESS = 'app/INITIALIZING_SUCCESS'\r\n\r\nlet initialState = {\r\n\tinitialized: false,\r\n}\r\n\r\nlet appReducer = (state=initialState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase INITIALIZING_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinitialized: true,\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport let initializingSuccess = () => ({type: INITIALIZING_SUCCESS})\r\n\r\nexport let initialize = () => (dispatch) => {\r\n\tPromise.all([\r\n\t\tdispatch(getAuthUserData()),\r\n\t]).then(() => {\r\n\t\tdispatch(initializingSuccess())\r\n\t})\r\n}\r\n\r\nexport default appReducer","let initialState = {\r\n\tnavList: [\r\n\t\t{url: '/profile', text: 'Profile'},\r\n\t\t{url: '/messages', text: 'Messages'},\r\n\t\t{url: '/users', text: 'Users'},\r\n\t\t{url: '/news', text: 'News'},\r\n\t\t{url: '/music', text: 'Music'},\r\n\t\t{url: '/settings', text: 'Settings'},\r\n\t],\r\n}\r\n\r\nconst navbarReducer = (state=initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport default navbarReducer","import {usersAPI, profileAPI} from './../api/api'\r\n\r\n\r\nconst ADD_POST = 'profile/ADD-POST'\r\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE'\r\nconst SET_STATUS = 'profile/SET_STATUS'\r\n\r\nlet initialState = {\r\n\tposts: [\r\n\t\t{message: 'Hi, how are you?', likesCount: 1},\r\n    {message: 'It\\'s my first post', likesCount: 5},\r\n\t],\r\n\tnewPostText: '',\r\n\t'profile': null,\r\n\t'status': '',\r\n}\r\n\r\nconst profileReducer = (state=initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\t\t\r\n\t\tcase ADD_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: [...state.posts, {message: action.message, likesCount: 0}],\r\n\t\t\t}\r\n\r\n\t\tcase SET_USER_PROFILE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: action.profile,\r\n\t\t\t}\r\n\r\n\t\tcase SET_STATUS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: action.status,\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const addPost = (message) => ({type: ADD_POST, message})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\n\r\nexport const getUserProfile = (id) => async (dispatch) => {\r\n\tlet response = await usersAPI.getUserProfileData(id)\r\n\tdispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getStatus = (id) => async (dispatch) => {\r\n\tlet response = await profileAPI.getStatus(id)\r\n\tdispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n\tlet response = await profileAPI.updateStatus(status)\r\n\tif (!response.data.resultCode) {\r\n\t\tdispatch(setStatus(status))\r\n\t}\r\n}\r\n\r\nexport default profileReducer","import {combineReducers, createStore, applyMiddleware, compose} from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport appReducer from './app-reducer.js'\r\nimport navbarReducer from './navbar-reducer.js'\r\nimport dialogsReducer from './dialogs-reducer.js'\r\nimport profileReducer from './profile-reducer.js'\r\nimport usersReducer from './users-reducer.js'\r\nimport authReducer from './auth-reducer.js'\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\nlet reducers = combineReducers({\r\n\tapp: appReducer,\r\n\tnavbar: navbarReducer,\r\n\tprofilePage: profileReducer,\r\n\tmessagesPage: dialogsReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React from 'react'\r\nimport styles from './Header.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport {logout} from './../../redux/auth-reducer'\r\n\r\nclass Header extends React.Component {\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className={`${styles.block} ${this.props.className}`}>\r\n\t  \t\t<img src=\"https://cdn.logo.com/hotlink-ok/logo-social-sq.png\" width='50' alt=\"\" />\r\n\t  \t\t<div className={styles.loginBlock}>\r\n\t  \t\t\t{\tthis.props.isAuth\r\n\t  \t\t\t\t? <div>{this.props.login} - <button onClick={this.props.logout}>Logout</button></div>\r\n\t  \t\t\t\t: <NavLink to={'/login'}>Login</NavLink>\r\n\t  \t\t\t}\r\n\t  \t\t</div>\r\n\t  \t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nlet mstp = (state) => ({\r\n\tisAuth: state.auth.isAuth,\r\n\tlogin: state.auth.login,\r\n})\r\nlet mdtp = {\r\n\tlogout,\r\n}\r\n\r\nexport default connect(mstp, mdtp)(Header)","import {connect} from 'react-redux'\r\nimport {NavLink} from 'react-router-dom'\r\nimport el from './Navbar.module.css'\r\n\r\n\r\nlet Navbar = (props) => {\r\n\treturn (\r\n\t\t<div className={`${el.block} ${props.className}`}>\r\n      <ul>\r\n\t      {props.navList.map((item) => {return(\r\n\t      \t<li>\r\n\t      \t\t<NavLink to={item.url}\r\n\t      \t\t\t\t\t\t activeClassName={el.active}>\r\n\t      \t\t\t\t\t\t {item.text}\r\n\t      \t\t</NavLink>\r\n\t      \t</li>\r\n\t      )})}\r\n      </ul>\r\n    </div>\r\n\t)\r\n}\r\n\r\nconst mstp = (state) => ({\r\n\tnavList: state.navbar.navList,\r\n})\r\n\r\nexport default connect(mstp, null)(Navbar)","import React from 'react'\r\nimport el from './ProfileStatus.module.css'\r\n\r\nclass ProfileStatus extends React.Component {\r\n\r\n\tstate = {\r\n\t\tstatus: this.props.status,\r\n\t\teditMode: false,\r\n\t}\r\n\r\n\tcomponentDidUpdate = (prevProps, prevState) => {\r\n\t\tif (this.props.status !== prevProps.status) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tstatus: this.props.status,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tactivateEditMode = () => {\r\n\t\tthis.setState({\r\n\t\t\teditMode: true,\r\n\t\t})\r\n\t}\r\n\r\n\tdeactivateEditMode = () => {\r\n\t\tthis.props.updateStatus(this.state.status);\r\n\t\tthis.setState({\r\n\t\t\teditMode: false,\r\n\t\t})\r\n\t}\r\n\r\n\tonStatusChange = (e) => {\r\n\t\tthis.setState({\r\n\t\t\tstatus: e.currentTarget.value,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className={`${el.block} ${this.props.className}`}>\r\n\t\t\t\t{\r\n\t\t\t\t\t!this.state.editMode\r\n\t\t\t\t\t? <span onDoubleClick={this.activateEditMode}>{this.props.status || '----------'}</span>\r\n\t\t\t\t\t: <input type=\"text\" value={this.state.status} autoFocus={true} onBlur={this.deactivateEditMode} onChange={this.onStatusChange} />\r\n\t\t\t\t}\r\n\t    </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default ProfileStatus","import s from './ProfileInfo.module.css'\r\nimport Preloader from './../../common/Preloader/Preloader'\r\nimport userDefaultPhoto from './../../../assets/images/user-default-photo.png'\r\nimport ProfileStatus from './ProfileStatus/ProfileStatus'\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n\tif (!props.profile) {\r\n\t\treturn <Preloader/>\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={`${s.block} ${props.className}`}>\r\n      <div className={s.content}>{props.profile.fullName}</div>\r\n      <ProfileStatus className={s.status} status={props.status} updateStatus={props.updateStatus} />\r\n      <img src={ (props.profile.photos.large !== null) ? props.profile.photos.large : userDefaultPhoto} alt=\"\"/>\r\n    </div>\r\n\t)\r\n}\r\n\r\nexport default ProfileInfo","import {reduxForm, Field} from 'redux-form'\r\nimport {required, maxLengthCreator} from './../../../../utils/validators'\r\nimport {Textarea} from './../../../common/FormControls/FormControls'\r\n\r\nlet maxLength10 = maxLengthCreator(10)\r\n\r\nlet PostsForm = reduxForm({\r\n  form: 'posts',\r\n})((props) => (\r\n\t<form onSubmit={props.handleSubmit}>\r\n    <div>\r\n      <Field component={Textarea}\r\n      \t\t\t name=\"message\"\r\n      \t\t\t validate={[required, maxLength10]}\r\n      \t\t\t placeholder=\"Let`s write post!\" />\r\n    </div>\r\n    <div>\r\n      <button>send</button>\r\n    </div>\r\n  </form>\r\n))\r\n\r\nexport default PostsForm","import el from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n\treturn (\r\n\t\t<div className={`${el.block} ${props.className}`}>\r\n\t\t\t<div className={el.text}>{props.message}</div>\r\n\t\t\t<div className={el.likes}>likes: {props.likesCount}</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Post","import {connect} from 'react-redux'\r\nimport {addPost} from './../../../redux/profile-reducer.js'\r\nimport el from './MyPosts.module.css'\r\nimport PostsForm from './PostsForm/PostsForm'\r\nimport Post from './Post/Post'\r\n\r\n\r\nlet MyPosts = (props) => (\r\n\t<div className={`${el.block} ${props.className}`}>\r\n    <PostsForm onSubmit={ (formData) => { props.addPost(formData.message) } }/>\r\n    <div>\r\n      {props.posts.map((state) => {return(\r\n        <Post className={el.post}\r\n              message={state.message}\r\n              likesCount={state.likesCount}/>\r\n      )})}\r\n    </div>\r\n  </div>\r\n)\r\n\r\nlet mstp = (state)=>({\r\n  posts: state.profilePage.posts,\r\n})\r\nlet mdtp = {\r\n  addPost,\r\n}\r\n\r\nexport default connect(mstp, mdtp)(MyPosts)","import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {getUserProfile, getStatus, updateStatus} from './../../redux/profile-reducer.js'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {compose} from 'redux'\r\nimport styles from './Profile.module.css'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\nimport MyPosts from './MyPosts/MyPosts'\r\n\r\nclass Profile extends React.Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tlet userId = this.props.match.params.userId || this.props.authorizedUserId\r\n\t\tif (!userId) {\r\n\t\t\tthis.props.history.push('/login')\r\n\t\t} else {\r\n\t\t\tthis.props.getUserProfile(userId)\r\n\t\t\tthis.props.getStatus(userId)\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className={`${styles.block} ${this.props.className}`}>\r\n\t      <ProfileInfo className={styles.info}\r\n\t      \t\t\t\t\t\t profile={this.props.profile}\r\n\t      \t\t\t\t\t\t status={this.props.status}\r\n\t      \t\t\t\t\t\t updateStatus={this.props.updateStatus} />\r\n\t    \t<MyPosts className={styles.posts}\r\n\t    \t\t\t\t\t state={this.props.myPosts}/>\r\n\t    </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nlet mstp = (state) => ({\r\n\tprofile: state.profilePage.profile,\r\n\tstatus: state.profilePage.status,\r\n\tauthorizedUserId: state.auth.id,\r\n})\r\nlet mdtp = {\r\n\tgetUserProfile,\r\n\tgetStatus,\r\n\tupdateStatus,\r\n}\r\n\r\nexport default compose(\r\n\twithRouter,\r\n\tconnect(mstp, mdtp),\r\n)(Profile)","import {reduxForm, Field} from 'redux-form'\r\nimport {Input} from './../common/FormControls/FormControls'\r\nimport styles from './../common/FormControls/FormControls.module.css'\r\nimport {required} from './../../utils/validators'\r\nimport {login} from './../../redux/auth-reducer'\r\nimport {connect} from 'react-redux'\r\nimport {Redirect} from 'react-router-dom'\r\n\r\n\r\nlet LoginForm = reduxForm({\r\n\tform: 'login',\r\n})((props) => (\r\n\t<form onSubmit={props.handleSubmit}>\r\n\t\t<div>\r\n\t\t\t<Field name=\"login\" component={Input} type=\"text\"\tplaceholder=\"Login\"\tvalidate={[required]} />\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<Field name=\"password\" component={Input} type=\"password\" placeholder=\"Password\"\tvalidate={[required]} />\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<label>\r\n\t\t\t\t<Field name=\"rememberMe\" component=\"input\" type=\"checkbox\" />\r\n\t\t\t\tremember me\r\n\t\t\t</label>\r\n\t\t</div>\r\n\t\t{ props.error && <div className={styles.formSummaryError}>{props.error}</div> }\r\n\t\t<button>Log in</button>\r\n\t</form>\r\n))\r\n\r\n\r\nlet Login = (props) => {\r\n\r\n\tlet onSubmit = (formData) => {\r\n\t\tprops.login(formData.login, formData.password, formData.rememberMe);\r\n\t}\r\n\r\n\tif (props.isAuth) return <Redirect to=\"/profile\" />\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>LOGIN</h1>\r\n\t\t\t<LoginForm onSubmit={onSubmit}/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nlet mstp = (state) => ({\r\n\tisAuth: state.auth.isAuth,\r\n})\r\nlet mdtp = {\r\n\tlogin,\r\n}\r\n\r\nexport default connect(mstp, mdtp)(Login)","import React from 'react'\nimport {BrowserRouter, Route} from 'react-router-dom'\nimport {Provider, connect} from 'react-redux'\nimport store from './redux/redux-store.js'\nimport {initialize} from './redux/app-reducer'\nimport styles from './App.module.css';\nimport Preloader from './components/common/Preloader/Preloader'\nimport Header from './components/Header/Header'\nimport Navbar from './components/Navbar/Navbar'\nimport Profile from './components/Profile/Profile'\nimport Login from './components/Login/Login'\nlet Dialogs = React.lazy(() => import('./components/Dialogs/Dialogs'))\nlet Users = React.lazy(() => import('./components/Users/Users'))\n\n\nclass App extends React.Component {\n\n\tcomponentDidMount = () => {\n\t\tthis.props.initialize()\n\t}\n\n\trender = () => {\n\n\t\tif (!this.props.initialized) {\n\t\t\treturn <Preloader/>\n\t\t}\n\n\t\treturn (\n\t  \t<div className={styles.block}>\n\t\t    <div className={styles.container}>\n\t\t    \t<Header className={styles.header}/>\n\t\t    \t<Navbar className={styles.navbar}/>\n\t\t    \t<Route path=\"/profile/:userId?\" render={() => (\n\t\t    \t\t<Profile className={styles.main}/>\n\t\t    \t)}/>\n\t\t    \t<Route path=\"/messages\" render={() => (\n\t\t    \t\t<React.Suspense fallback={<Preloader/>}>\n\t\t    \t\t\t<Dialogs className={styles.main} />\n\t\t    \t\t</React.Suspense>\n\t\t    \t)}/>\n\t\t    \t<Route path=\"/users\" render={() => (\n\t\t    \t\t<React.Suspense fallback={<Preloader/>}>\n\t\t    \t\t\t<Users className={styles.main}/>\n\t\t    \t\t</React.Suspense>\n\t\t    \t)}/>\n\t\t    \t<Route path=\"/login\" render={() => (\n\t\t    \t\t<Login className={styles.main}/>\n\t\t    \t)}/>\n\t\t    </div>\n\t    </div>\n\t  )\n\t}\n}\n\nlet mstp = (state) => ({\n\tinitialized: state.app.initialized,\n})\n\nlet mdtp = {\n\tinitialize: initialize,\n}\n\nlet AppContainer = connect(mstp, mdtp)(App);\n\nlet AppWithRouter = (props) => (\n\t<BrowserRouter basename={process.env.PUBLIC_URL}>\n\t\t<Provider store={store}>\n\t\t\t<AppContainer />\n\t\t</Provider>\n  </BrowserRouter>\n)\n\nexport default AppWithRouter;","import reportWebVitals from './reportWebVitals';\nimport './index.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n  \t<App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export let required = (value) => {\r\n\tif (!value) return 'Field is required';\r\n}\r\n\r\nexport let maxLengthCreator = (maxLength) => (value) => {\r\n\tif (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n}","export default __webpack_public_path__ + \"static/media/Fidget-spinner.29181c59.gif\";","import styles from './Preloader.module.css'\r\nimport preloader from './../../../assets/images/Fidget-spinner.gif'\r\n\r\nconst Preloader = (props) => {\r\n\treturn (\r\n\t\t<div className={styles.block}>\r\n\t\t\t<img src={preloader} alt=\"\"/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__2LNLi\",\"error\":\"FormControls_error__2RP1L\",\"errorMessage\":\"FormControls_errorMessage__1B9-A\",\"formSummaryError\":\"FormControls_formSummaryError__2DzlW\"};","import styles from './FormControls.module.css'\r\n\r\nlet FormControl = (props) => {\r\n\tlet isError = props.meta.touched && props.meta.error;\r\n\treturn (\r\n\t\t<div className={`${styles.formControl} ${isError ? styles.error : \"\"}`} >\r\n\t\t\t{ props.children }\r\n\t\t\t{ isError && <div className={styles.errorMessage}>{props.meta.error}</div> }\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport let Textarea = (props) => {\r\n\tlet {input, meta, child, ...restProps} = props;\r\n\treturn (\r\n\t\t<FormControl {...props} >\r\n\t\t\t<textarea {...input} {...restProps} />\r\n\t\t</FormControl>\r\n\t)\r\n}\r\n\r\nexport let Input = (props) => {\r\n\tlet {input, meta, child, ...restProps} = props;\r\n\treturn (\r\n\t\t<FormControl {...props} >\r\n\t\t\t<input {...input} {...restProps} />\r\n\t\t</FormControl>\r\n\t)\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Profile_block__wUXy7\",\"info\":\"Profile_info__3wRcx\",\"posts\":\"Profile_posts__37aKE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"ProfileInfo_block__3X5f6\",\"banner\":\"ProfileInfo_banner__1wnrD\",\"content\":\"ProfileInfo_content__92iMq\",\"status\":\"ProfileInfo_status__1KaqN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Post_block__2czB1\",\"text\":\"Post_text__3vLig\",\"likes\":\"Post_likes__17PNw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Header_block__1dzab\",\"loginBlock\":\"Header_loginBlock__1kcnT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Navbar_block__2O2_f\",\"active\":\"Navbar_active__3JPlb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"MyPosts_block__1nCiH\",\"post\":\"MyPosts_post__1yMfp\"};","export let updateObjectsInArray = (items, objPropName, objPropValue, newObjectProps) => {\r\n\treturn items.map((item) => {\r\n\t\tif (item[objPropName] === objPropValue) {\r\n\t\t\treturn {\r\n\t\t\t\t...item,\r\n\t\t\t\t...newObjectProps,\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn item\r\n\t})\r\n}","import {usersAPI} from './../api/api'\r\nimport {updateObjectsInArray} from './../utils/object-helpers'\r\n\r\nconst FOLLOW_SUCCESS = 'users/FOLLOW_SUCCESS'\r\nconst UNFOLLOW_SUCCESS = 'users/UNFOLLOW_SUCCESS'\r\nconst SET_USERS = 'users/SET_USERS'\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET_TOTAL_USERS_COUNT'\r\nconst SET_IS_FETCHING = 'users/SET_IS_FETCHING'\r\nconst SET_FOLLOWING_IN_PROGRESS_ARR = 'users/SET_FOLLOWING_IN_PROGRESS_ARR'\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\tpageSize: 5,\r\n\tpaginatorPortionSize: 10,\r\n\ttotalUsersCount: 0,\r\n\tisFetching: false,\r\n\tfollowingInProgressArr: [],\r\n}\r\n\r\nconst usersReducer = (state=initialState, action) => {\r\n\r\n\tswitch(action.type) {\r\n\r\n\t\tcase FOLLOW_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectsInArray(state.users, 'id', action.id, {followed: true}),\r\n\t\t\t}\r\n\r\n\t\tcase UNFOLLOW_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectsInArray(state.users, 'id', action.id, {followed: false}),\r\n\t\t\t}\r\n\r\n\t\tcase SET_USERS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: [...action.users],\r\n\t\t\t}\r\n\r\n\t\tcase SET_TOTAL_USERS_COUNT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttotalUsersCount: action.totalUsersCount,\r\n\t\t\t}\r\n\r\n\t\tcase SET_IS_FETCHING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisFetching: action.isFetching,\r\n\t\t\t}\r\n\r\n\t\tcase SET_FOLLOWING_IN_PROGRESS_ARR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingInProgressArr: action.isFollowingInProgress\r\n\t\t\t\t\t? [...state.followingInProgressArr, action.id]\r\n\t\t\t\t\t: state.followingInProgressArr.filter(id => id !== action.id),\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const followSuccess = (id) => ({type: FOLLOW_SUCCESS, id})\r\nexport const unfollowSuccess = (id) => ({type: UNFOLLOW_SUCCESS, id})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount})\r\nexport const setIsFetching = (isFetching) => ({type: SET_IS_FETCHING, isFetching})\r\nexport const setFollowingInProgressArr = (id, isFollowingInProgress) => ({type: SET_FOLLOWING_IN_PROGRESS_ARR, id, isFollowingInProgress})\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n\tdispatch(setIsFetching(true))\r\n\tlet response = await usersAPI.requestUsers(currentPage, pageSize)\r\n\tdispatch(setUsers(response.data.items))\r\n\tdispatch(setTotalUsersCount(response.data.totalCount))\r\n\tdispatch(setIsFetching(false))\r\n}\r\n\r\nexport const changePage = (pageNumber, pageSize) => (dispatch) => {\r\n\tdispatch(requestUsers(pageNumber, pageSize))\r\n}\r\n\r\nlet followUnfollowFlow = async (dispatch, apiMethod, actionCreator, id) => {\r\n\tdispatch(setFollowingInProgressArr(id, true))\r\n\tlet response = await apiMethod(id)\r\n\tif (!response.data.resultCode) {\r\n\t\tdispatch(actionCreator(id))\r\n\t}\r\n\tdispatch(setFollowingInProgressArr(id, false))\r\n}\r\n\r\nexport const follow = (id) => async (dispatch) => {\r\n\tfollowUnfollowFlow(dispatch, usersAPI.follow.bind(usersAPI), followSuccess, id)\r\n}\r\n\r\nexport const unfollow = (id) => async (dispatch) => {\r\n\tfollowUnfollowFlow(dispatch, usersAPI.unfollow.bind(usersAPI), unfollowSuccess, id)\r\n}\r\n\r\nexport default usersReducer"],"sourceRoot":""}