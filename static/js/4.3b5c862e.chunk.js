(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{295:function(t,e,n){t.exports={block:"Pagination_block__2XCx9",button:"Pagination_button__mQktK",link:"Pagination_link__SQ0k8",list:"Pagination_list__22uoP",item:"Pagination_item__xlZ6D",active:"Pagination_active__12Rji"}},296:function(t,e,n){t.exports={block:"User_block__361zJ",aside:"User_aside___4aTV",photo:"User_photo__2sh__",followBtn:"User_followBtn__1ifBD",main:"User_main__3KBJi",left:"User_left__2in1U",name:"User_name__3hnhh",status:"User_status__Shq8b",right:"User_right__2XFOQ",country:"User_country__1QIV2",city:"User_city__2bPIM"}},297:function(t,e,n){t.exports={block:"Users_block__ixXo5",list:"Users_list__1K47Y",item:"Users_item__21NZS",pagination:"Users_pagination__1R2wy",preloader:"Users_preloader__1apA8"}},299:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n(5),o=n(28),i=n(39),s=n(30),c=n(29),l=n(0),u=n.n(l),f=n(9),p=n(12),h=n(11),b=n(98);function _(t,e){return t===e}function d(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,a=0;a<r;a++)if(!t(e[a],n[a]))return!1;return!0}function g(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"===typeof t}))){var n=e.map((function(t){return typeof t})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return e}var j=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];var o=0,i=r.pop(),s=g(r),c=t.apply(void 0,[function(){return o++,i.apply(null,arguments)}].concat(n)),l=t((function(){for(var t=[],e=s.length,n=0;n<e;n++)t.push(s[n].apply(null,arguments));return c.apply(null,t)}));return l.resultFunc=i,l.dependencies=s,l.recomputations=function(){return o},l.resetRecomputations=function(){return o=0},l}}((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_,n=null,r=null;return function(){return d(e,n,arguments)||(r=t.apply(null,arguments)),n=arguments,r}}));var m=function(t){return t.usersPage.users},v=j(m,(function(t){return t.filter((function(t){return!0}))})),y=function(t){return t.usersPage.pageSize},O=function(t){return t.usersPage.isFetching},x=function(t){return t.usersPage.followingInProgressArr},P=function(t){return t.usersPage.totalUsersCount},N=function(t){return t.usersPage.paginatorPortionSize};var w=n(109);function U(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(c){a=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(t,e)||Object(w.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k=n(25),S=n(295),z=n.n(S),C=function(t){for(var e=t.className,n=t.pageSize,a=t.currentPage,o=t.totalItemsCount,i=t.portionSize,s=t.changePage,c=t.url,u=Math.ceil(o/n),f=[],p=1;p<=u;p++)f.push(p);var h=Math.ceil(u,i),b=U(Object(l.useState)(Math.floor(a/i)+1),2),_=b[0],d=b[1],g=(_-1)*i+1,j=_*i;return Object(r.jsxs)("div",{className:"".concat(z.a.block," ").concat(e),children:[_>1&&Object(r.jsx)("button",{className:z.a.button,onClick:function(){return d(_-1)},children:"PREV"}),Object(r.jsx)("ul",{className:z.a.list,children:f.filter((function(t){return t>=g&&t<=j})).map((function(t){return Object(r.jsx)("li",{className:"".concat(z.a.item),children:Object(r.jsx)(k.b,{to:"".concat(c,"?page=").concat(t),className:"".concat(z.a.link," ").concat(t===a?z.a.active:""),onClick:function(){return s(t,n)},children:t})})}))}),_<h&&Object(r.jsx)("button",{className:z.a.button,onClick:function(){return d(_+1)},children:"NEXT"})]})},A=n(44),I=n(296),B=n.n(I),F=n(120),M={follow:b.c,unfollow:b.e},R=Object(p.b)((function(t){return{followingInProgressArr:x(t)}}),M)((function(t){var e=t.followingInProgressArr.some((function(e){return e===t.id}));return Object(r.jsxs)("div",{className:"".concat(B.a.block," ").concat(t.className),children:[Object(r.jsxs)("div",{className:B.a.aside,children:[Object(r.jsx)(k.c,{to:"/profile/"+t.id,className:B.a.photo,children:Object(r.jsx)("img",{src:null!==t.photos.small?t.photos.small:F.a,alt:""})}),t.followed?Object(r.jsx)("button",{disabled:e,onClick:function(){t.unfollow(t.id)},className:B.a.followBtn,children:"unfollow"}):Object(r.jsx)("button",{disabled:e,onClick:function(){t.follow(t.id)},className:B.a.followBtn,children:"follow"})]}),Object(r.jsxs)("div",{className:B.a.main,children:[Object(r.jsxs)("div",{className:B.a.left,children:[Object(r.jsx)("div",{className:B.a.name,children:t.name}),Object(r.jsx)("div",{className:B.a.status,children:t.status})]}),Object(r.jsxs)("div",{className:B.a.right,children:[Object(r.jsx)("div",{className:B.a.country,children:t.country}),Object(r.jsx)("div",{className:B.a.city,children:t.city})]})]})]})})),E=n(297),J=n.n(E),Q=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).getPage=function(){var e;return parseInt(null!==(e=new URLSearchParams(t.props.location.search).get("page"))&&void 0!==e?e:1)},t.componentDidMount=function(){t.props.requestUsers(t.getPage(),t.props.pageSize)},t}return Object(i.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"".concat(J.a.block," ").concat(this.props.className),children:[this.props.isFetching?Object(r.jsx)(A.a,{className:J.a.preloader}):null,Object(r.jsx)(C,{className:J.a.pagination,pageSize:this.props.pageSize,currentPage:this.getPage(),totalItemsCount:this.props.totalUsersCount,portionSize:this.props.paginatorPortionSize,changePage:this.props.changePage,url:"/users"}),Object(r.jsx)("div",{className:J.a.list,children:this.props.users.map((function(t){return Object(r.jsx)(R,Object(a.a)(Object(a.a)({},t),{},{className:J.a.item}))}))})]})}}]),n}(u.a.Component),X={requestUsers:b.d,changePage:b.a};e.default=Object(f.d)(h.f,Object(p.b)((function(t){return{users:v(t),pageSize:y(t),totalUsersCount:P(t),paginatorPortionSize:N(t),isFetching:O(t)}}),X))(Q)}}]);
//# sourceMappingURL=4.3b5c862e.chunk.js.map